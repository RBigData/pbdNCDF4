
\section[Windows System]{Windows System}
\label{sec:windows_system}
\addcontentsline{toc}{section}{\thesection. Windows System}

Windows system has serial HDF5 and NetCDF4 libraries available in
both 32- and 64-bit systems. The pre-built (netCDF-C) libraries can be
downloaded from
\url{http://www.unidata.ucar.edu/software/netcdf/docs/winbin.html}.
For example, the stable release (netCDF-C 4.3.2) has
\begin{itemize}
\item 32-bit library at \\
\url{http://www.unidata.ucar.edu/netcdf/win_netcdf/netCDF4.3.2-NC4-32.exe}, and
\item 64 bit library at \\
\url{http://www.unidata.ucar.edu/netcdf/win_netcdf/netCDF4.3.2-NC4-64.exe}.
\end{itemize}
Note that both pre-built libraries contain HDF5 and NetCDF4 serial versions
and can be directly linked and loaded with \pkg{pbdNCDF4} inside \proglang{R}.
All required \code{*.dll} files are via \code{dyn.load()} in
\code{.onLoad()} at package run time, and via \code{dyn.unload()} in
\code{.onUnload()} when quiting the package.

With a few click on both \code{exe} files,
we suggest users to install at the system directory
\begin{itemize}
\item
\code{C:/Program Files (x86)/netCDF 4.3.2/} for the 32-bit library, and
\item
\code{C:/Program Files/netCDF 4.3.2/} for the 64-bit library.
\end{itemize}
Note that the default for 32-bit may be the same as 64-bit, so do the change
manually.


\subsection[Install from Binary]{Install from Binary}
\label{sec:install_from_binary}
\addcontentsline{toc}{subsection}{\thesubsection. Install from Binary}

The binary packages of \pkg{pbdNCDF4} are available on the website:
``Programming with Big Data in R'' at
\url{http://r-pbd.org/}.% or
%``CRAN'' at
%\url{http://cran.r-project.org/package=pbdNCDF4}.
The binary can be installed by
\begin{Command}
R CMD INSTALL pbdNCDF4_0.1-3.zip
\end{Command}

As on Unix systems,
one can start quickly with \pkg{pbdNCDF4} by learning from the
following demos. There are two basic examples in serial.
\begin{Command}
demo(ncwrite_ser,'pbdNCDF4',ask=F,echo=F)
demo(ncread_ser,'pbdNCDF4',ask=F,echo=F)
\end{Command}


\subsection[Build from Source]{Build from Source}
\label{sec:building_from_source}
\addcontentsline{toc}{subsection}{\thesubsection. Build from Source}

Installation of \pkg{pbdNCDF4} in windows system requires users to set
environment variables \code{NETCDF4_ROOT_32} and
\code{NETCDF4_ROOT_64} for both pre-built libraries.
By default, we suggest
\begin{Command}
### Under command mode, or save in a batch file.
SET NETCDF4_ROOT_32=C:\Program Files (x86)\netCDF 4.3.2\
SET NETCDF4_ROOT_64=C:\Program Files\netCDF 4.3.2\
SET NETCDF4_ROOT=%NETCDF4_ROOT_64%

SET R_HOME=C:\Program Files\R\R-3.0.1\
SET RTOOLS=C:\Rtools\bin\
SET MINGW=C:\Rtools\gcc-4.6.3\bin\

SET PATH=%R_HOME%;%R_HOME%bin\;%RTOOLS%;%MINGW%;%PATH%
SET PATH=%NETCDF4_ROOT%bin\;%PATH%
\end{Command}
Here, we use 64-bit system for testing and set the \code{bin} directory
to \code{PATH}, then
some utilities such as \code{ncdump.exe} can be tested and used in
\pkg{pbdNCDF4}.

With a correct \code{PATH}, one can use the \proglang{R} commands
to install/build the \pkg{pbdNCDF4}:
\begin{Command}
### Under command mode, build and install the binary.
tar zxvf pbdNCDF4_0.1-3.tar.gz
R CMD INSTALL --build pbdNCDF4
R CMD INSTALL pbdNCDF4_0.1-3.zip
\end{Command}

